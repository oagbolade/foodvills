(function(t){function a(a){for(var n,o,i=a[0],l=a[1],c=a[2],d=0,p=[];d<i.length;d++)o=i[d],s[o]&&p.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(a);while(p.length)p.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],n=!0,i=1;i<e.length;i++){var l=e[i];0!==s[l]&&(n=!1)}n&&(r.splice(a--,1),t=o(o.s=e[0]))}return t}var n={},s={app:0},r=[];function o(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)o.d(e,n,function(a){return t[a]}.bind(null,n));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=a,i=i.slice();for(var c=0;c<i.length;c++)a(i[c]);var u=l;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"00b5":function(t,a,e){"use strict";var n=e("7644"),s=e.n(n);s.a},"034f":function(t,a,e){"use strict";var n=e("64a9"),s=e.n(n);s.a},"080b":function(t,a,e){},2755:function(t,a,e){},"2b51":function(t,a,e){},"2cc9":function(t,a,e){},3994:function(t,a,e){"use strict";var n=e("d72f"),s=e.n(n);s.a},"4bfc":function(t,a,e){"use strict";var n=e("080b"),s=e.n(n);s.a},"52b4":function(t,a,e){"use strict";var n=e("2755"),s=e.n(n);s.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var n=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("router-view")],1)},r=[],o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("BackgroundImage")],1)},i=[],l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"myBackground"},[e("a",{staticStyle:{"background-color":"black",color:"white","text-decoration":"none",padding:"4px 6px","font-family":'-apple-system, BlinkMacSystemFont, "San Francisco", "Helvetica Neue", Helvetica, Ubuntu, Roboto, Noto, "Segoe UI", Arial, sans-serif',"font-size":"12px","font-weight":"bold","line-height":"1.2",display:"inline-block","border-radius":"3px"},attrs:{href:"https://unsplash.com/@anniespratt?utm_medium=referral&utm_campaign=photographer-credit&utm_content=creditBadge",target:"_blank",rel:"noopener noreferrer",title:"High-resolution photo by Annie Spratt unsplash.com"}},[e("span",{staticStyle:{display:"inline-block",padding:"2px 3px"}},[e("svg",{staticStyle:{height:"12px",width:"auto",position:"relative","vertical-align":"middle",top:"-2px",fill:"white"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},[e("title",[t._v("unsplash-logo")]),e("path",{attrs:{d:"M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"}})])]),e("span",{staticStyle:{display:"inline-block",padding:"2px 3px"}},[t._v("Annie Spratt")])]),e("SearchBar")],1)},c=[],u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"search"},[e("form",{on:{submit:t.submitForm}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],ref:"address",staticClass:"searchTerm",attrs:{id:"searchTextField",type:"text",placeholder:"Enter your Location"},domProps:{value:t.address},on:{input:function(a){a.target.composing||(t.address=a.target.value)}}}),e("button",{staticClass:"searchButton",attrs:{type:"submit"}},[e("font-awesome-icon",{attrs:{icon:"search"}})],1)])])])},d=[],p={name:"SearchBar",data:function(){return{address:""}},methods:{submitForm:function(t){if(t.preventDefault(),this.address=this.$refs.address.value,""===this.address.trim())return!1;window.location="/latlng?address=".concat(this.address)}},mounted:function(){this.$loadScript("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAw0JQxK1CapRxAZbTo1TtIJal281p48VU","&libraries=places")).then(function(){new google.maps.LatLngBounds(new google.maps.LatLng(-33.8902,151.1759),new google.maps.LatLng(-33.8474,151.2631));var t=document.getElementById("searchTextField"),a={types:["establishment"],componentRestrictions:{country:"ng"}};new google.maps.places.Autocomplete(t,a)}).catch(function(t){console.log(t)})}},g=p,h=(e("8474"),e("2877")),m=Object(h["a"])(g,u,d,!1,null,"2a5ecf00",null),f=m.exports,v={components:{SearchBar:f},comments:{SearchBar:f},name:"BackgroundImage"},b=v,y=(e("00b5"),Object(h["a"])(b,l,c,!1,null,"845ab5d6",null)),_=y.exports,w={name:"Home",components:{BackgroundImage:_},props:{},data:function(){return{}},methods:{},mounted:function(){}},M=w,x=Object(h["a"])(M,o,i,!1,null,"250376b9",null),C=x.exports,k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("Error",{attrs:{errorMessage:t.errorMessage}}),e("Map",{attrs:{coordinates:t.coordinates,restaurantNames:t.restaurantNames}})],1)},L=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a",{attrs:{href:"/"}},[e("button",{staticClass:"btn btn-outline-primary btn-lg"},[t._v("Home")])])])}],B=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Error",{attrs:{errorMessage:t.errorMessage}}),e("div",{staticClass:"col-6 offset-5",class:{loader:this.loading}}),e("div",{attrs:{id:"map"}})],1)},E=[],S=(e("ac6a"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.errorMessage?e("div",{staticClass:"alert alert-danger"},[t._v("\n        "+t._s(t.errorMessage)+"\n    ")]):t._e()])}),A=[],N={name:"Error",props:{errorMessage:String}},O=N,j=(e("52b4"),Object(h["a"])(O,S,A,!1,null,"950ba25a",null)),I=j.exports,$={name:"Map",components:{Error:I},props:{coordinates:Array,restaurantNames:Array},watch:{coordinates:function(){this.loadSpinner(),this.showMultipleMarkers()}},data:function(){return{marker:[],map:null,myLatLng:{},bounds:null,infoWindow:null,loading:!0,errorMessage:""}},methods:{loadSpinner:function(){this.coordinates&&0!==this.coordinates.length&&(this.loading=!1)},showMultipleMarkers:function(){var t=this,a=this.restaurantNames;this.infoWindow=new google.maps.InfoWindow,this.coordinates.forEach(function(e,n){var s=new google.maps.LatLng(e.lat,e.lng);t.marker=new google.maps.Marker({position:s,map:t.map,title:"Click for info"}),t.showInfoWindow(a,n,t.infoWindow)}),this.setMapBounds(),this.map.setZoom(14)},setMapBounds:function(){this.bounds=new google.maps.LatLngBounds,this.bounds.extend(this.marker.position),this.map.fitBounds(this.bounds)},showInfoWindow:function(t,a,e){google.maps.event.addListener(this.marker,"click",function(a,n){return function(){e.setContent(t[n]),e.open(this.map,a)}}(this.marker,a))},initializeMap:function(){this.myLatLng={lat:6.45407,lng:3.39467},this.map=new google.maps.Map(document.getElementById("map"),{zoom:5,center:this.myLatLng})}},mounted:function(){this.initializeMap()}},R=$,T=(e("3994"),Object(h["a"])(R,B,E,!1,null,"01da1ab7",null)),P=T.exports,z={name:"Results",components:{Map:P,Error:I},props:{coordinates:Array,restaurantNames:Array},data:function(){return{errorMessage:""}},methods:{},mounted:function(){}},H=z,J=(e("7a72"),Object(h["a"])(H,k,L,!1,null,"1d08f7ff",null)),U=J.exports,F={name:"app",components:{Home:C,Results:U}},D=F,V=(e("034f"),Object(h["a"])(D,s,r,!1,null,null,null)),W=V.exports,Z=(e("4989"),e("ab8b"),e("ecee")),K=e("c074"),Q=e("ad3d"),q=e("8c4f"),Y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Error",{attrs:{errorMessage:t.errorMessage}}),e("div",{staticClass:"container-fluid",class:{main:this.errorMessage}},[e("NearByPlaces",{attrs:{latlng:t.latlngArray}})],1)],1)},G=[],X=(e("96cf"),e("3b8d")),tt=(e("386d"),e("28a5"),e("bc3a")),at=e.n(tt),et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Error",{attrs:{errorMessage:t.errorMessage}}),e("div",{staticClass:"col-6 offset-5",class:{loader:this.loading,display:this.display}}),e("div",{class:{hideContent:!this.display}},[e("div",{staticClass:"navbar"},[e("NavBar")],1),t._l(t.restaurantData,function(a){return e("div",{staticClass:"container"},[e("div",{staticClass:"col-md-6 offset-md-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h4",[t._v(t._s(a.name))])]),e("div",{staticClass:"card-body"},[e("blockquote",{staticClass:"blockquote mb-0"},[e("p",[e("b",[t._v("Address:")]),t._v(" "+t._s(a.vicinity))]),a.opening_hours?e("p",[e("b",[t._v("Opening Hours:")]),t._v(" Open")]):a.opening_hours?t._e():e("p",[e("b",[t._v("Opening Hours:")]),t._v(" Closed")]),e("p",[e("b",[t._v("Customer Ratings(5):")]),t._v(" "+t._s(a.rating))]),e("p",[e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.toggleModal({lat:a.geometry.location.lat,lng:a.geometry.location.lng,name:a.name})}}},[t._v("View Map")])])])]),e("div",{staticClass:"card-footer"},[e("p",{staticClass:"mb-0"},[e("b",[t._v("Customer Ratings(5):")]),t._v(" "+t._s(a.rating))])])])])])})],2),t.showModal?e("MapModel",{attrs:{lat:t.individualLat,lng:t.individualLng,restaurantName:t.individualName},on:{toggleModal:function(a){return t.toggleModal({lat:null,lng:null,name:null})}}}):t._e()],1)},nt=[],st=(e("7f7f"),function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)}),rt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar fixed-top navbar-expand-lg navbar-light bg-light"},[e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})]),e("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("FoodVills")]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarTogglerDemo03"}},[e("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[t._v("Back")])])])}],ot={name:"NavBar"},it=ot,lt=(e("8e2b"),Object(h["a"])(it,st,rt,!1,null,"2d1d17c6",null)),ct=lt.exports,ut=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"col-md-6 offset-md-5 col-sm-4",class:{loader:this.loading}}),e("transition",{attrs:{name:"modal"}},[e("div",{class:{hideContent:!this.display}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[t._t("header",[e("h3",[t._v(t._s(this.restaurantName))])])],2),e("div",{staticClass:"modal-body"},[t._t("body",[e("div",{attrs:{id:"map"}})])],2),e("div",{staticClass:"modal-footer"},[t._t("footer",[e("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.$emit("toggleModal")}}},[t._v("\n                                    Close\n                                ")])])],2)])])])])]),t.showModal?e("modal",{on:{close:function(a){t.showModal=!1}}}):t._e()],1)},dt=[],pt=(e("c5f6"),{name:"MapModal",props:{restaurantName:String,lat:Number,lng:Number},data:function(){return{showModal:!1,display:!1,loading:!0}},methods:{initMap:function(){var t={lat:this.lat,lng:this.lng};this.isLoading(t);var a=new google.maps.Map(document.getElementById("map"),{zoom:15,center:t});new google.maps.Marker({position:t,map:a})},isLoading:function(t){0!==t.lng.length&&0!==t.lng.length&&(this.loading=!this.loading,this.display=!this.display)}},mounted:function(){var t=this;this.$loadScript("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAw0JQxK1CapRxAZbTo1TtIJal281p48VU")).then(function(){t.initMap()}).catch(function(t){console.log(t)})}}),gt=pt,ht=(e("636f"),Object(h["a"])(gt,ut,dt,!1,null,"4c567501",null)),mt=ht.exports,ft={name:"FetchNearByPlaces",components:{Error:I,MapModel:mt,NavBar:ct},props:["latlng"],watch:{latlng:function(){var t=this;this.latlng&&0!==this.latlng.length&&this.latlng.forEach(function(a){t.getNearByPlaces(a.lat,a.lng)})}},data:function(){return{individualLat:null,individualLng:null,individualName:null,loading:!0,display:!1,showModal:!1,nearByRadius:500,nearByURL:"https://maps.googleapis.com/maps/api/place/nearbysearch/json?",type:"restaurant",proxy:"https://cors-anywhere.herokuapp.com/",key:"AIzaSyAw0JQxK1CapRxAZbTo1TtIJal281p48VU",restaurantData:[],errorMessage:""}},methods:{getNearByPlaces:function(t,a){var e=this;at.a.get("".concat(this.proxy).concat(this.nearByURL,"location=").concat(t,",").concat(a,"&radius=").concat(this.nearByRadius,"&type=").concat(this.type,"&key=").concat(this.key)).then(function(t){e.restaurantData=t.data.results,e.isLoading(e.restaurantData),e.hideContent()}).catch(function(t){t&&(e.errorMessage="A Network Error has Occured, Please Check your Internet Connection",console.log(t))})},toggleModal:function(t){this.individualLat=t.lat,this.individualLng=t.lng,this.individualName=t.name,this.showModal=!this.showModal},isLoading:function(t){t&&0!==t.length&&(this.loading=!this.loading)},hideContent:function(){this.display=!this.display}},mounted:function(){}},vt=ft,bt=(e("4bfc"),Object(h["a"])(vt,et,nt,!1,null,"4ba0bd0b",null)),yt=bt.exports,_t={name:"FetchLatLng",components:{Error:I,NearByPlaces:yt},data:function(){return{url:"https://maps.googleapis.com/maps/api/geocode/json?",type:"restaurant",proxy:"https://cors-anywhere.herokuapp.com/",key:"AIzaSyAw0JQxK1CapRxAZbTo1TtIJal281p48VU",inputtype:"textquery",address:"",fields:"photos,formatted_address,name,rating,opening_hours,geometry",latlngArray:[],loading:!1,errorMessage:""}},methods:{getLatLng:function(){var t=this;at.a.get("".concat(this.proxy).concat(this.url,"address=").concat(this.address,"&key=").concat(this.key)).then(function(a){if(0===a.data.results.length)return t.errorMessage="Your search returned no results, please check that you entered your address correctly",!1;var e=a.data.results[0].geometry.location.lat,n=a.data.results[0].geometry.location.lng;t.latlngArray.push({lat:e,lng:n})}).catch(function(a){a&&(t.errorMessage="A Network Error has Occured, Please Check your Internet Connection",console.log(a))})},getURL:function(){var t=location.search.split("address=").splice(1).join("").split("&")[0];this.address=t||"Lagos"}},mounted:function(){var t=Object(X["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getURL();case 2:return t.next=4,this.getLatLng();case 4:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}()},wt=_t,Mt=(e("bca8"),Object(h["a"])(wt,Y,G,!1,null,"54c1384a",null)),xt=Mt.exports,Ct=[{path:"/",component:C},{path:"/latlng",component:xt}],kt=Ct,Lt=e("67b0");n["a"].use(Lt["a"]),n["a"].use(at.a),n["a"].prototype.$http=at.a,n["a"].use(q["a"]),Z["c"].add(K["a"]),n["a"].component("font-awesome-icon",Q["a"]),n["a"].config.productionTip=!1;var Bt=new q["a"]({routes:kt,mode:"history"});new n["a"]({router:Bt,render:function(t){return t(W)}}).$mount("#app")},"636f":function(t,a,e){"use strict";var n=e("6a6c"),s=e.n(n);s.a},"64a9":function(t,a,e){},"6a6c":function(t,a,e){},7644:function(t,a,e){},"7a72":function(t,a,e){"use strict";var n=e("2b51"),s=e.n(n);s.a},8474:function(t,a,e){"use strict";var n=e("2cc9"),s=e.n(n);s.a},"8e2b":function(t,a,e){"use strict";var n=e("a0fc"),s=e.n(n);s.a},a0fc:function(t,a,e){},bca8:function(t,a,e){"use strict";var n=e("cd73"),s=e.n(n);s.a},cd73:function(t,a,e){},d72f:function(t,a,e){}});
//# sourceMappingURL=app.a6330143.js.map